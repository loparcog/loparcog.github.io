<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Silly Sound's Kyle üêà | Giacomo</title><meta name=keywords content="synth,vcv rack"><meta name=description content="VCV Rack eurorack module for envelope detecting and sidechaining"><meta name=author content="Giacomo Loparco"><link rel=canonical href=https://loparcog.github.io/posts/2301kyle/><link crossorigin=anonymous href=/assets/css/stylesheet.f417b2b78a51a3f1015eb588a750379d079f7aca74d3fc689d30c120942e444c.css integrity="sha256-9Beyt4pRo/EBXrWIp1A3nQefesp00/xonTDBIJQuREw=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://loparcog.github.io/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://loparcog.github.io/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://loparcog.github.io/img/favicon-32x32.png><link rel=apple-touch-icon href=https://loparcog.github.io/img/apple-touch-icon.png><link rel=mask-icon href=https://loparcog.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css integrity=sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0 crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js integrity=sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><meta property="og:title" content="Silly Sound's Kyle üêà"><meta property="og:description" content="VCV Rack eurorack module for envelope detecting and sidechaining"><meta property="og:type" content="article"><meta property="og:url" content="https://loparcog.github.io/posts/2301kyle/"><meta property="og:image" content="https://loparcog.github.io/img/pfp.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-21T15:17:32-05:00"><meta property="article:modified_time" content="2023-01-21T15:17:32-05:00"><meta property="og:site_name" content="Giacomo"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://loparcog.github.io/img/pfp.png"><meta name=twitter:title content="Silly Sound's Kyle üêà"><meta name=twitter:description content="VCV Rack eurorack module for envelope detecting and sidechaining"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://loparcog.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Silly Sound's Kyle üêà","item":"https://loparcog.github.io/posts/2301kyle/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Silly Sound's Kyle üêà","name":"Silly Sound\u0027s Kyle üêà","description":"VCV Rack eurorack module for envelope detecting and sidechaining","keywords":["synth","vcv rack"],"articleBody":"Feel free to check out this and other Silly Sound modules at the GitHub codebase (they‚Äôre well commented I swear). All of the code mentioned in this article can be found in src/Kyle.cpp\nAlso if you are wondering, Silly Sounds is a mock Eurorack module company that these plugins will be published under. The company has and will never have profits, but is also a fake company, so we are planned to meet our goals year over year.\nWhat is it Kyle is my third VCV Rack module published under Silly Sounds, and acts as an envelope detector for sidechaining off any waveforms. Give it any sound source as input, and you‚Äôll be able to get a rough analysis signal for the waveform. You can edit the strength of the decay using the decay knob, and add a outward or inward curve using the exp knob.\nThe output signal from this module should nicely wrap around the top edge of the waveform, and you can then use the inverse output as a level control for any other module. You can also use the amp knob to scale up the output of the module if you want some more aggressive sidechaining.\nKyle module in VCV Rack. How does it work This module is explained best through my envelope detector article here, where I also go through the iterative workflow of this module. In this final version, the main equation looks something like this:\n\\begin{equation} \\begin{cases} \\text{input} \u0026 \\text{if } \\text{output}_{mod} \u003c= \\text{input} \\\\ \\text{output} _{mod} * \\text{delay} * e ^ {\\text{exp} * t} \u0026 \\text{if } \\text{output} _{mod} \u003e \\text{input} \\end{cases} \\end{equation}\nIf the current output of the module is less than the input signal, we output the input signal. Otherwise, we decay the output by a set amount each sample, optionally multiplied by an exponential value growing with time. We also multiply this value by the amp parameter to scale it up/down. We also make sure that the output value stays between 0V and 10V from both the regular and inverse envelope values. In code, this is surprisingly simple.\n// Add to the timer t += sTime; /* We decay the signal either exponentially if PEXP != 0, otherwise we decay linearly out - (decay * e^(exp)) */ outVoltage = outVoltage - ((params[PDECAY_PARAM].getValue() / sRate) * exp((params[PEXP_PARAM].getValue() * t))); /* If the original signal is greater than our output voltage, currVoltage \u003e outVoltage Set the output to the signal voltage. Otherwise, use the decayed output voltage */ if (currVoltage \u003e= outVoltage) { outVoltage = currVoltage; // Reset the time t = 0.f; } outVoltage = std::max(currVoltage, outVoltage); // Amplify the output (maxing out at 10) ampOut = std::min(10.f, abs(outVoltage * (1 + 9.f * params[PAMP_PARAM].getValue()))); // Set output voltages, accounting for amplification outputs[ENV_OUTPUT].setVoltage(ampOut); outputs[ENVINV_OUTPUT].setVoltage(10 - ampOut); There is also some other outlier code to make sure that the module doesn‚Äôt leave a steady output value when not getting an input signal (for example, if the decay value was set to 0). It checks if the output value has been basically zero for half a second and zero‚Äôs the output:\n// Add to the timer t += sTime; /* We decay the signal either exponentially if PEXP != 0, otherwise we decay linearly out - (decay * e^(exp)) */ outVoltage = outVoltage - ((params[PDECAY_PARAM].getValue() / sRate) * exp((params[PEXP_PARAM].getValue() * t))); /* If the original signal is greater than our output voltage, currVoltage \u003e outVoltage Set the output to the signal voltage. Otherwise, use the decayed output voltage */ if (currVoltage \u003e= outVoltage) { outVoltage = currVoltage; // Reset the time t = 0.f; } outVoltage = std::max(currVoltage, outVoltage); // Amplify the output (maxing out at 10) ampOut = std::min(10.f, abs(outVoltage * (1 + 9.f * params[PAMP_PARAM].getValue()))); // Set output voltages, accounting for amplification outputs[ENV_OUTPUT].setVoltage(ampOut); outputs[ENVINV_OUTPUT].setVoltage(10 - ampOut); Conclusion and considerations As also mentioned in the envelope article, there is always more to be added. Some of the main ones were adding in some min/max values to adjust where we‚Äôre watching for the envelope changes, and also taking polyphonic input to give one output envelope. This, as usual, is all dependent on use case and how useful these changes would be versus complicating. We keep this module simple, clean, and always looking for food, just like Kyle would want.\n","wordCount":"717","inLanguage":"en","datePublished":"2023-01-21T15:17:32-05:00","dateModified":"2023-01-21T15:17:32-05:00","author":{"@type":"Person","name":"Giacomo Loparco"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://loparcog.github.io/posts/2301kyle/"},"publisher":{"@type":"Organization","name":"Giacomo","logo":{"@type":"ImageObject","url":"https://loparcog.github.io/img/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://loparcog.github.io/ accesskey=h title="Giacomo (Alt + H)">Giacomo</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://loparcog.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://loparcog.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://loparcog.github.io/animals/ title=animals><span>animals</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://loparcog.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://loparcog.github.io/posts/>Posts</a></div><h1 class=post-title>Silly Sound's Kyle üêà</h1><div class=post-meta><span title='2023-01-21 15:17:32 -0500 -0500'>January 21, 2023</span>&nbsp;¬∑&nbsp;4 min&nbsp;¬∑&nbsp;Giacomo Loparco</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#what-is-it>What is it</a></li><li><a href=#how-does-it-work>How does it work</a></li><li><a href=#conclusion-and-considerations>Conclusion and considerations</a></li></ul></nav></div></details></div><div class=post-content><p><em>Feel free to check out this and other Silly Sound modules at <a href=https://github.com/loparcog/SillySounds>the GitHub codebase</a> (they&rsquo;re well commented I swear). All of the code mentioned in this article can be found in <a href=https://github.com/loparcog/SillySounds/blob/master/src/Kyle.cpp>src/Kyle.cpp</a></em></p><p><em>Also if you are wondering, Silly Sounds is a mock Eurorack module company that these plugins will be published under. The company has and will never have profits, but is also a fake company, so we are planned to meet our goals year over year.</em></p><h2 id=what-is-it>What is it<a hidden class=anchor aria-hidden=true href=#what-is-it>#</a></h2><p><strong>Kyle</strong> is my third VCV Rack module published under Silly Sounds, and acts as an envelope detector for sidechaining off any waveforms. Give it any sound source as input, and you&rsquo;ll be able to get a rough analysis signal for the waveform. You can edit the strength of the decay using the <code>decay</code> knob, and add a outward or inward curve using the <code>exp</code> knob.</p><p>The output signal from this module should nicely wrap around the top edge of the waveform, and you can then use the inverse output as a level control for any other module. You can also use the <code>amp</code> knob to scale up the output of the module if you want some more aggressive sidechaining.</p><p><figure><img src=/img/2301kylemod.png alt="Kyle module in VCV Rack" style=width:80%;display:block;margin:auto><figcaption style=text-align:center;font-style:italic>Kyle module in VCV Rack.</figcaption></figure></p><h2 id=how-does-it-work>How does it work<a hidden class=anchor aria-hidden=true href=#how-does-it-work>#</a></h2><p>This module is explained best through <a href=https://loparcog.github.io/posts/2212envelope/>my envelope detector article here</a>, where I also go through the iterative workflow of this module. In this final version, the main equation looks something like this:</p><p>\begin{equation}
\begin{cases}
¬†¬† \text{input} & \text{if } \text{output}_{mod} &lt;= \text{input} \\
\text{output} _{mod} * \text{delay} * e ^ {\text{exp} * t} & \text{if } \text{output} _{mod} > \text{input}
\end{cases}
\end{equation}</p><p>If the current output of the module is less than the input signal, we output the input signal. Otherwise, we decay the output by a set amount each sample, optionally multiplied by an exponential value growing with time. We also multiply this value by the <code>amp</code> parameter to scale it up/down. We also make sure that the output value stays between 0V and 10V from both the regular and inverse envelope values. In code, this is surprisingly simple.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>// Add to the timer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>t <span style=color:#f92672>+=</span> sTime;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>    We decay the signal either exponentially if PEXP != 0,
</span></span></span><span style=display:flex><span><span style=color:#75715e>    otherwise we decay linearly
</span></span></span><span style=display:flex><span><span style=color:#75715e>    out - (decay * e^(exp))
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span>outVoltage <span style=color:#f92672>=</span> outVoltage <span style=color:#f92672>-</span> ((params[PDECAY_PARAM].getValue() <span style=color:#f92672>/</span> sRate) <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>                            exp((params[PEXP_PARAM].getValue() <span style=color:#f92672>*</span> t)));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>    If the original signal is greater than our output voltage,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        currVoltage &gt; outVoltage
</span></span></span><span style=display:flex><span><span style=color:#75715e>    Set the output to the signal voltage. Otherwise, use the
</span></span></span><span style=display:flex><span><span style=color:#75715e>    decayed output voltage
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (currVoltage <span style=color:#f92672>&gt;=</span> outVoltage)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    outVoltage <span style=color:#f92672>=</span> currVoltage;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Reset the time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    t <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.f</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>outVoltage <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>max(currVoltage, outVoltage);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Amplify the output (maxing out at 10)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>ampOut <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>min(<span style=color:#ae81ff>10.f</span>, abs(outVoltage <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>9.f</span> <span style=color:#f92672>*</span> params[PAMP_PARAM].getValue())));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Set output voltages, accounting for amplification
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>outputs[ENV_OUTPUT].setVoltage(ampOut);
</span></span><span style=display:flex><span>outputs[ENVINV_OUTPUT].setVoltage(<span style=color:#ae81ff>10</span> <span style=color:#f92672>-</span> ampOut);
</span></span></code></pre></div><p>There is also some other outlier code to make sure that the module doesn&rsquo;t leave a steady output value when not getting an input signal (for example, if the decay value was set to 0). It checks if the output value has been <em>basically</em> zero for half a second and zero&rsquo;s the output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>// Add to the timer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>t <span style=color:#f92672>+=</span> sTime;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>    We decay the signal either exponentially if PEXP != 0,
</span></span></span><span style=display:flex><span><span style=color:#75715e>    otherwise we decay linearly
</span></span></span><span style=display:flex><span><span style=color:#75715e>    out - (decay * e^(exp))
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span>outVoltage <span style=color:#f92672>=</span> outVoltage <span style=color:#f92672>-</span> ((params[PDECAY_PARAM].getValue() <span style=color:#f92672>/</span> sRate) <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>                            exp((params[PEXP_PARAM].getValue() <span style=color:#f92672>*</span> t)));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>    If the original signal is greater than our output voltage,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        currVoltage &gt; outVoltage
</span></span></span><span style=display:flex><span><span style=color:#75715e>    Set the output to the signal voltage. Otherwise, use the
</span></span></span><span style=display:flex><span><span style=color:#75715e>    decayed output voltage
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (currVoltage <span style=color:#f92672>&gt;=</span> outVoltage)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    outVoltage <span style=color:#f92672>=</span> currVoltage;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Reset the time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    t <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.f</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>outVoltage <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>max(currVoltage, outVoltage);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Amplify the output (maxing out at 10)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>ampOut <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>min(<span style=color:#ae81ff>10.f</span>, abs(outVoltage <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>9.f</span> <span style=color:#f92672>*</span> params[PAMP_PARAM].getValue())));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Set output voltages, accounting for amplification
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>outputs[ENV_OUTPUT].setVoltage(ampOut);
</span></span><span style=display:flex><span>outputs[ENVINV_OUTPUT].setVoltage(<span style=color:#ae81ff>10</span> <span style=color:#f92672>-</span> ampOut);
</span></span></code></pre></div><h2 id=conclusion-and-considerations>Conclusion and considerations<a hidden class=anchor aria-hidden=true href=#conclusion-and-considerations>#</a></h2><p>As also mentioned in the envelope article, there is always more to be added. Some of the main ones were adding in some min/max values to adjust where we&rsquo;re watching for the envelope changes, and also taking polyphonic input to give one output envelope. This, as usual, is all dependent on use case and how useful these changes would be versus complicating. We keep this module simple, clean, and always looking for food, just like Kyle would want.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://loparcog.github.io/tags/synth/>synth</a></li><li><a href=https://loparcog.github.io/tags/vcv-rack/>vcv rack</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://loparcog.github.io/>Giacomo</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>